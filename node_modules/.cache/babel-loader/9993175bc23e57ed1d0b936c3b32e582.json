{"ast":null,"code":"import API, { LOGIN_USER_KEY } from '../../API';\nimport { signInAction, signInError, signUpAction, signUpError, signUserStoreAction } from './actions';\nconst api = new API();\nexport const fetchUserFromLocalStorage = () => {\n  return dispatch => {\n    const userJSON = localStorage.getItem(LOGIN_USER_KEY);\n    if (userJSON && userJSON.token !== \"\") {\n      dispatch(signUserStoreAction(JSON.parse(userJSON)));\n    }\n  };\n};\nexport const signUp = function () {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let onSuccess = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return async dispatch => {\n    return api.signUp(data).then(response => {\n      localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n      dispatch(signUpAction(response));\n      onSuccess();\n    }).catch(error => {\n      dispatch(signUpError(error.response.data));\n    });\n  };\n};\nexport const signIn = function () {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let onSuccess = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return async dispatch => {\n    return api.signIn(data).then(response => {\n      localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n      dispatch(signInAction(response));\n      onSuccess();\n    }).catch(error => {\n      dispatch(signInError(error.response.data));\n    });\n  };\n};","map":{"version":3,"names":["API","LOGIN_USER_KEY","signInAction","signInError","signUpAction","signUpError","signUserStoreAction","api","fetchUserFromLocalStorage","dispatch","userJSON","localStorage","getItem","token","JSON","parse","signUp","data","onSuccess","then","response","setItem","stringify","catch","error","signIn"],"sources":["C:/Users/brian/Desktop/frontend/src/reducks/users/operations.js"],"sourcesContent":["import API, { LOGIN_USER_KEY } from '../../API';\nimport { signInAction, signInError, signUpAction, signUpError, signUserStoreAction } from './actions';\n\nconst api = new API();\n\nexport const fetchUserFromLocalStorage = () => {\n\treturn (dispatch) => {\n\t\tconst userJSON = localStorage.getItem(LOGIN_USER_KEY);\n\t\tif (userJSON && userJSON.token !== \"\") {\n\t\t\tdispatch(signUserStoreAction(JSON.parse(userJSON)));\n\t\t}\n\t};\n};\n\nexport const signUp = (data = {}, onSuccess = null) => {\n\treturn async (dispatch) => {\n\t\treturn api\n\t\t\t.signUp(data)\n\t\t\t.then((response) => {\n\t\t\t\tlocalStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n\t\t\t\tdispatch(signUpAction(response));\n\t\t\t\tonSuccess();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(signUpError(error.response.data));\n\t\t\t});\n\t};\n};\n\nexport const signIn = (data = {}, onSuccess = null) => {\n\treturn async (dispatch) => {\n\t\treturn api\n\t\t\t.signIn(data)\n\t\t\t.then((response) => {\n\t\t\t\tlocalStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n\t\t\t\tdispatch(signInAction(response));\n\t\t\t\tonSuccess();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(signInError(error.response.data));\n\t\t\t});\n\t};\n};\n"],"mappings":"AAAA,OAAOA,GAAG,IAAIC,cAAc,QAAQ,WAAW;AAC/C,SAASC,YAAY,EAAEC,WAAW,EAAEC,YAAY,EAAEC,WAAW,EAAEC,mBAAmB,QAAQ,WAAW;AAErG,MAAMC,GAAG,GAAG,IAAIP,GAAG,EAAE;AAErB,OAAO,MAAMQ,yBAAyB,GAAG,MAAM;EAC9C,OAAQC,QAAQ,IAAK;IACpB,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAACX,cAAc,CAAC;IACrD,IAAIS,QAAQ,IAAIA,QAAQ,CAACG,KAAK,KAAK,EAAE,EAAE;MACtCJ,QAAQ,CAACH,mBAAmB,CAACQ,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC,CAAC,CAAC;IACpD;EACD,CAAC;AACF,CAAC;AAED,OAAO,MAAMM,MAAM,GAAG,YAAiC;EAAA,IAAhCC,IAAI,uEAAG,CAAC,CAAC;EAAA,IAAEC,SAAS,uEAAG,IAAI;EACjD,OAAO,MAAOT,QAAQ,IAAK;IAC1B,OAAOF,GAAG,CACRS,MAAM,CAACC,IAAI,CAAC,CACZE,IAAI,CAAEC,QAAQ,IAAK;MACnBT,YAAY,CAACU,OAAO,CAACpB,cAAc,EAAEa,IAAI,CAACQ,SAAS,CAACF,QAAQ,CAAC,CAAC;MAC9DX,QAAQ,CAACL,YAAY,CAACgB,QAAQ,CAAC,CAAC;MAChCF,SAAS,EAAE;IACZ,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAK;MACjBf,QAAQ,CAACJ,WAAW,CAACmB,KAAK,CAACJ,QAAQ,CAACH,IAAI,CAAC,CAAC;IAC3C,CAAC,CAAC;EACJ,CAAC;AACF,CAAC;AAED,OAAO,MAAMQ,MAAM,GAAG,YAAiC;EAAA,IAAhCR,IAAI,uEAAG,CAAC,CAAC;EAAA,IAAEC,SAAS,uEAAG,IAAI;EACjD,OAAO,MAAOT,QAAQ,IAAK;IAC1B,OAAOF,GAAG,CACRkB,MAAM,CAACR,IAAI,CAAC,CACZE,IAAI,CAAEC,QAAQ,IAAK;MACnBT,YAAY,CAACU,OAAO,CAACpB,cAAc,EAAEa,IAAI,CAACQ,SAAS,CAACF,QAAQ,CAAC,CAAC;MAC9DX,QAAQ,CAACP,YAAY,CAACkB,QAAQ,CAAC,CAAC;MAChCF,SAAS,EAAE;IACZ,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAK;MACjBf,QAAQ,CAACN,WAAW,CAACqB,KAAK,CAACJ,QAAQ,CAACH,IAAI,CAAC,CAAC;IAC3C,CAAC,CAAC;EACJ,CAAC;AACF,CAAC"},"metadata":{},"sourceType":"module"}